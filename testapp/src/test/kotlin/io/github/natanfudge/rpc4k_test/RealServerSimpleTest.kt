package io.github.natanfudge.rpc4k_test

class RealServerSimpleTest {

//    private val config = RealServerTestConfig.create(Port(8080), SimpleProtocol())
//    private val client = config.client
//
//    @Before
//    fun before()  = config.before()
//
//    @After
//    fun after() = config.after()
//
//    @Test
//    fun testManual() = serverTest {
//        val response = client.bar(2)
//        assertEquals(3, response)
//        val response2 = client.foo(4)
//        assertFlowEquals(flowOf(5, 2, 3), response2)
////        response2.collect { println("Collecting: $it") }
//    }
//
//    @Test
//    fun tdd() = serverTest {
//         client.foo(4)
//    }
//
//
//    @OptIn(DelicateCoroutinesApi::class)
//    fun <T> assertFlowEquals(flow1: Flow<T>, flow2: Flow<T>) {
//        GlobalScope.launch {
//            assertContentEquals(flow1.toList(), flow2.toList())
//        }
//    }

}